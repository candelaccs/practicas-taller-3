program ejercicio1; //<>//
type

 str27 = string [27];
 redad = 12..100;
 
 socio = record
  numero: integer;
  nombre: str27;
  edad: redad;
  
 arbol = ^nodo;
 nodo = record;
  dato: socio;
  HI: arbol;
  HD: arbol;
 end;
 
 
procedure crearArbol (var a: arbol);
 
 procedure leer (var s: socio);
 begin
  
  writeln ('ingresar numero de socio');
  readln (s.numero);
  if (s.numero <> 0 ) then begin
   writeln ('Ã­ngresar un nombre');
   readln (s.nombre);
   writeln ('ingresar edad');
   readln (s.edad);
  end;
 end; 
 
 procedure agregar (var a: arbol; s:socio);
 begin

  if (a = nil) then begin // si el arbol-raiz esta vacio entonces pongo el 1er elemento //
   new (a);
   a^.dato:= s; // cargo primer dato //
   a^.HI:= nil; // pongo hijo izquierdo en nil para dejarlo preparado y que luego pueda recibir un dato //
   a^.HD:= nil; // lo mismo //
  end
  else 
   if (s.numero <= a^.dato.numero) then
    agregar (a^.HI, socio)
   else 
    agregar (a^.HD, socio);
 end;               
 
procedure informarMaximo (a: arbol); // es necesario hacer este procedimiento? //

 function maximo (a:arbol): integer;
 begin
  
  if (a = nil) then
   maximo:= -1
  else
   if (a^.HD = nil) then
    maximo:= a^.dato.numero;
   else
    maximo (a^.HD);
 end;
 
var
 max: integer;
begin
  max:= maximo (a);
  if (max = -1) then
   writeln ('la lista esta vacia')
  else
   writeln ('el numero de socio maximo es' max);
end;
   
procedure informarMinimo (a:arbol);
 
 function minimoNodo (a:arbol): arbol;
 begin
  if (a = nil) then
   minimoNodo:= nil; // es lo mismo :=a o :=nil;? //
  else
   if (a^.HI = nil) then
    minimoNodo:= a;
   else 
    minimoNodo:= (a^.HI);
 end; 
var 
 a: arbol;
begin
 min:= minimoNodo (a);
 if (min = nil) then
  writeln ('la lista esta vacia')
 else begin
  writeln ('los datos del numero de socio mas chico son:  ');
  writeln ('el nombre es ', min^.dato.nombre);
  writeln ('la edad es ', min^.dato.edad);
  writeln ('el numero de socio es ', min^.dato.numero);
 end;
end;
  
procedure informarMayorEdad (a:arbol);

 procedure edadMayor (a:arbol, var maxsocio: integer maxedad: integer);
 begin
  if (a <> nil) then
   edadMayor (a^.HI, maxsocio, maxedad);
   if (a^.dato.edad > maxedad) then begin
    maxedad:= a^.dato.edad;
    maxsocio:= a^.dato.numero;
   end;
   edadMayor (a^.HD, maxsocio,maxedad);
var
 maxsocio, maxedad: integer;
begin
 maxedad:= -1;
 maxsocio:= -1;
 edadMayor (a, maxsocio, maxedad);
 writeln ('el numero de socio con mayor edad es ', maxsocio);
end;       
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
var 
 s: socio;
begin // no deberia ser de forma recursiva esto? //
 a:= nil;
 leer(a, s);
 while (s.numero <> 0) do begin
  agregar (a, s);
  leer (s);
 end;
end;
 
var
 a: arbol;
 
begin

 crearArbol (a); // se carga el arbol //
 
 informarMaximo (a); //informo valor maximo //
 informarMinimo (a); // informo nodo de minimo //
 
 informarMayorEdad (a); 
 
end. 
